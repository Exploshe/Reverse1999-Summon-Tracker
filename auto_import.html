<!DOCTYPE html>

<html>
    <head>
        <title>Auto Import</title>
        <link rel="icon" type="image/x-icon" href="images/favicon.ico">
        <link rel="stylesheet" href="styles/auto_import.css">
        <link rel="stylesheet" href="styles/sidebar.css">
    </head>
    <body>
        <div class="sidebar">
            <div class="flex-column">
                <a class="sidebar-link" href="characters.html">Characters</a>
                <a class="sidebar-link" style="background-color: rgb(69, 69, 255); color: white;" href="/">Summon Tracker</a>
                <a class="sidebar-link" href="global_stats.html">Global Stats</a>
                <a class="sidebar-link" href="settings.html">Settings</a>
            </div>
        </div>
        <h1>Import Summon History</h1>
        <div style="margin-bottom: 16px;">If none of the methods below work for you, try <a style="color: rgb(188, 87, 255);" href="https://windbow27.github.io/Kornblume/">Kornblume</a> :)</div>
        <div class="platform-buttons">
            <button class="pc-button">PC</button>
            <button class="ios-button">iOS</button>
        </div>
        <div class="import-directions pc-directions">
            <div style="font-weight: bold; font-size: 20px">Prerequisites</div>
            <div class="steps">
                <div class="step-number">1</div>
                <div style="display: block">
                    <div>Download fiddler classic <a style="color: white" href="https://www.telerik.com/download/fiddler">https://www.telerik.com/download/fiddler</a></div>
                    <img style="height: 220px" src="images/Download-Fiddler.png">
                </div>
            </div>
            <div class="steps">
                <div class="step-number">2</div>
                <div style="display: block">
                    <div>Open Fiddler Classic, go to “Tools” &rarr; “Options” &rarr; “HTTPS” and select “Decrypt HPPS Traffic” and accept certificate.</div>
                    <img style="height: 280px" src="images/Fiddler-Decrypt-HTTPS.png">
                </div>
                    
            </div>
            <div style="font-weight: bold; font-size: 20px">Getting the link</div>
            <div class="steps">
                <div class="step-number">1</div>
                <div>Open Fiddler</div>
            </div>
            <div class="steps">
                <div class="step-number">2</div>
                <div>Open the summon history in game (it has to be the first time opening the history since opening the game, otherwise restart your game)</div>
            </div>
            <div class="steps">
                <div class="step-number">3</div>
                <div style="display: block">
                    <div>Go back to fiddler and find the URL with "/query/summon" (Ctrl+F can help), right click &rarr; Copy &rarr; Just Url</div>
                    <img style="height: 300px" src="images/Link-In-Fiddler.png">
                </div>
            </div>
            <div class="steps">
                <div class="step-number">4</div>
                <div style="display: block">
                    <div>Paste the link to the textbox below. Alternatively, you can open the link in your browser and copy paste the contents below ({"msg":"成功","code":200...)</div>
                </div>
            </div>
        </div>
        <div class="import-directions ios-directions">
            <div style="font-size: 14px;">(If you've used this app for importing for genshin or hsr, it's the exact same process except for step 4 in prerequisites)</div>
            <div style="font-weight: bold; font-size: 20px">Prerequisites</div>
            <div class="steps">
                <div class="step-number">1</div>
                <div>Download Stream - Network Debug Tool <a style="color: white" href="https://apps.apple.com/us/app/stream-network-debug-tool/id1312141691">https://apps.apple.com/us/app/stream-network-debug-tool/id1312141691</a></div>
            </div>
            <div class="steps">
                <div class="step-number">2</div>
                <div>Open the app, go to HTTPS Sniffing &rarr; Install CA Certificate &rarr; A website will open, press Allow </div>
            </div>
            <div class="steps">
                <div class="step-number">3</div>
                <div>Go to your phone's settings &rarr; General &rarr; VPN & Device management &rarr; Stream Generated CA &rarr; Install</div>
            </div>
            <div class="steps">
                <div class="step-number">4</div>
                <div>Go back to General &rarr; About &rarr; scroll all the way to the bottom, Certificate Trust Settings &rarr; Enable full trust 
                    (I don't know if there are any risks to leaving this enabled, so just to be safe disable this after you get the link)</div>
            </div>
            <div class="steps">
                <div class="step-number">5</div>
                <div>Go back to Stream and a pop up will appear, choose I've trusted</div>
            </div>
            <div style="font-weight: bold; font-size: 20px">Getting the link</div>
            <div class="steps">
                <div class="step-number">1</div>
                <div>Open Stream and tap Sniff Now</div>
            </div>
            <div class="steps">
                <div class="step-number">2</div>
                <div>Open the summon history in game (it has to be the first time opening the history since opening the game, otherwise restart your game)</div>
            </div>
            <div class="steps">
                <div class="step-number">3</div>
                <div>Go back to Stream and tap Stop Sniffing</div>
            </div>
            <div class="steps">
                <div class="step-number">4</div>
                <div>Open Sniff History and find the request that starts with GET https://game-re-en-service.sl916.com/query/summon?</div>
            </div>
            <div class="steps">
                <div class="step-number">5</div>
                <div>Open the request &rarr; Request &rarr; copy the link under Request Line and paste it to the textbox below</div>
            </div>
            <div>Heres paimon.moe's guide if you're having trouble it should be very similar :) <a style="color: white" href="https://docs.google.com/document/d/1U8pf9lqKALtMSWI11t_6npYlVOCpIFZZRvhrC_9-2ek/edit#heading=h.qlzrekvf2c1d">https://docs.google.com/document/d/1U8pf9lqKALtMSWI11t_6npYlVOCpIFZZRvhrC_9-2ek/edit#heading=h.qlzrekvf2c1d</a></div>
        </div>
        <div style="display: flex; align-items: center; margin: 8px 0px;">
            <div class="exclamation">!</div>
            <div style="color: rgb(219, 171, 76)">You will need to import again after pulling to keep your stats up to date</div>
        </div>
        <div style="display: flex; align-items: center;">
            <div class="exclamation">!</div>
            <div style="color: rgb(219, 171, 76)">Summon history past 90 days is deleted from official servers and cannot be retrieved.</div>
        </div>
        <div class="server-down">
            WAIT! The server is down, so if you import your pulls now it wont get uploaded to global stats :(
			Don't worry, I'm already aware and am looking into it right now so it'll be back up soon :)
        </div>
        <div class="importing" style="display: none">Importing...</div>
        <div class="js-import-result"></div>
        <div class="import-wrapper">
            <div>
                <input class="link js-import-input" placeholder="Paste the link here", style="display: none">
            </div>
            <p>taking this out again to test the new banner sorry :)</p>
            <div>
                <button class="js-import-button" style="display: none">Import</button>
            </div>
            <div>
                <label class="container">
                    <input class="checkbox" type="checkbox" checked="checked">
                    <span class="checkmark"></span>
                    Upload to global stats
                </label>
            </div>
        </div>
        <div>Importing into <span class="js-selected-profile"></span></div>
        

        <div style="font-size: 14px; margin-top: 32px;">if you use android im sorry i tried but my small brain couldnt figure it out if you can get the link you can paste it here as usual and lmk your method so i can share it here :)</div>
        
        <script type="module" src="./scripts/auto_import.js"></script>
    </body>
</html>